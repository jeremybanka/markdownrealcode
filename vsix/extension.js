var U=Object.create;var{getPrototypeOf:V,defineProperty:B,getOwnPropertyNames:M,getOwnPropertyDescriptor:W}=Object,N=Object.prototype.hasOwnProperty;var I=(j,w,y)=>{y=j!=null?U(V(j)):{};let q=w||!j||!j.__esModule?B(y,"default",{value:j,enumerable:!0}):y;for(let A of M(j))if(!N.call(q,A))B(q,A,{get:()=>j[A],enumerable:!0});return q},L=new WeakMap,X=(j)=>{var w=L.get(j),y;if(w)return w;if(w=B({},"__esModule",{value:!0}),j&&typeof j==="object"||typeof j==="function")M(j).map((q)=>!N.call(w,q)&&B(w,q,{get:()=>j[q],enumerable:!(y=W(j,q))||y.enumerable}));return L.set(j,w),w};var Y=(j,w)=>{for(var y in w)B(j,y,{get:w[y],enumerable:!0,configurable:!0,set:(q)=>w[y]=()=>q})};var _={};Y(_,{activate:()=>Z});module.exports=X(_);var z=I(require("vscode")),G=I(require("node:path")),H=I(require("node:fs"));function Z(j){let w=z.languages.createDiagnosticCollection("markdownrealcode");j.subscriptions.push(w);let y=(q)=>{if(!q.fileName.endsWith(".src.md"))return;let A=q.getText(),O=/\[>src:([^\]]+)\]/g,J=[],E;while((E=O.exec(A))!==null){let F=E[1];if(!F)continue;let Q=q.positionAt(E.index+6),R=q.positionAt(E.index+6+F.length),S=new z.Range(Q,R),T=G.dirname(q.uri.fsPath),K=G.join(T,F);if(!H.existsSync(K)||!H.statSync(K).isFile())J.push(new z.Diagnostic(S,`Invalid file path: ${F}`,z.DiagnosticSeverity.Error))}w.set(q.uri,J)};j.subscriptions.push(z.workspace.onDidChangeTextDocument((q)=>{y(q.document)})),j.subscriptions.push(z.workspace.onDidOpenTextDocument((q)=>{y(q)})),z.workspace.textDocuments.forEach(y)}
